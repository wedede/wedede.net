!function(a){a(function(){function e(){var t=0;a(".amount").each(function(){t+=parseInt(a(this).html())}),a("#amount").html(t)}function n(t){for(var a=window.location.search.substring(1),e=a.split("&"),n=0;n<e.length;n++){var i=e[n].split("=");if(i[0]==t)return i[1]}}a(".button-collapse").sideNav(),a("#modal_email").modal(),a(".jump").on("click",function(e){e.preventDefault();var n=a(this).attr("href");t=a(n).offset().top,a("body,html").animate({scrollTop:t},700,"easeInOutSine")}),a(".card-panel").click(function(){if(a(this).hasClass("active"))a("#"+a(this).attr("target")+"_field").hide(),a(this).removeClass("active"),a("#main_feature").remove(),a("#dynamic_header").hide().removeClass("animated zoomIn"),a("#"+a(this).attr("target")+"_field").children().children('input[type="checkbox"]').each(function(){a(this).prop("checked",!1);var t=a(this).next("label").attr("for");t=t.split("_"),t=t[1],a("#feature_"+t).addClass("animated flipOutX").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a("#feature_"+t).remove(),e()})});else{var t=a(".active").attr("target");a(".card-panel").removeClass("active"),a(this).addClass("active"),a("#dynamic_header").show().addClass("animated fadeIn"),a(".dynamic_checkboxes").hide(),a("#"+a(this).attr("target")+"_field").show().addClass("animated fadeIn"),a("#main_feature").remove(),a("#summary").prepend("<div class='col s12' id='main_feature'><h6 class='feature'>"+a(this).children("div").children("span").html()+"<span class='right'><span class='amount'>"+a(this).data("price")+"</span> грн.</span></h6></div>"),a("#"+t+"_field").children().children('input[type="checkbox"]').each(function(){a(this).prop("checked",!1);var t=a(this).next("label").attr("for");t=t.split("_"),t=t[1],a("#feature_"+t).addClass("animated flipOutX").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a("#feature_"+t).remove(),e()})})}e()}),a('input[type="checkbox"]').click(function(){var t=a(this).attr("id");t=t.split("_"),t=t[1];var n="<i class='fa fa-times black-text' aria-hidden='true' style='padding-left:1rem;cursor:pointer;' id='remove_"+t+"'></i>";a(this).prop("checked")?(a("#optional_features").prepend("<h6 id='feature_"+t+"' class='feature'>"+a(this).next("label").text()+"<span class='right'><span class='amount'>"+a(this).data("price")+"</span> грн."+n+"</span></h6>"),a("#feature_"+t).addClass("animated flipInX").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a("#feature_"+t).removeClass("animated flipInX"),e()})):a("#feature_"+t).addClass("animated flipOutX").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a("#feature_"+t).remove(),e()})}),a("#optional_features").on("click",".fa-times",function(){var t=a(this).attr("id");t=t.split("_"),t=t[1],a(this).parent().parent("h6").addClass("animated flipOutX").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a("#feature_"+t).remove(),a("#f_"+t).prop("checked",!1),e()})}),a("#send_order").click(function(){var t={},e=[];a(".amount").each(function(){e.push(parseInt(a(this).html()))});var n=[];a(".feature").each(function(){n.push(a(this).clone().children().remove().end().text())}),t.features=n,t.amounts=e,t.summ=a("#amount").text(),t.currency=a("#currency").text(),t.contact=a("#email").val(),Materialize.toast("Отправка заказа...",6e4),a.post("/mail.php",{jsonData:JSON.stringify(t)}).done(function(t){a(".toast").remove(),"sended"==t.result&&Materialize.toast("Спасибо за заказ, мы свяжемся с вами в ближайшее время",6e3),"limit"==t.result&&Materialize.toast("Закза был отослан ранее",4e3),"empty"==t.result&&Materialize.toast("Что то определенно пошло не так... и мы уже ковыряемся",4e3)}).fail(function(){Materialize.toast("Ошибка отправки",4e3)})});var i=n("p"),o=n("i");a("#"+i+"_button").click(),a("#"+o).click()})}(jQuery);